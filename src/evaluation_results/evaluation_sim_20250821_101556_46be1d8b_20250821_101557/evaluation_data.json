{
  "metadata": {
    "timestamp": "2025-08-21T10:15:56.828176",
    "simulation_id": "sim_20250821_101556_46be1d8b",
    "description": "Auto-simulation 2025-08-21 10:15:56.826419",
    "version": "1.0",
    "simulation_steps": 748,
    "dt": 1.0,
    "ref_fe": 53.5,
    "ref_mass": 57.0,
    "model_type": "krr",
    "model_params": {},
    "horizon": 10,
    "delta_u_max": 1.0,
    "lambda_u": 0.1,
    "Q_matrix": [
      [
        0.01,
        0
      ],
      [
        0,
        0.01
      ]
    ],
    "R_matrix": [
      [
        0.1,
        0
      ],
      [
        0,
        0.1
      ]
    ],
    "initial_trust_radius": 1.0,
    "min_trust_radius": 0.5,
    "max_trust_radius": 5.0,
    "data_hash": "989172687d4423f7"
  },
  "evaluation_results": {
    "model_rmse_fe": 0.17628369808835895,
    "model_rmse_mass": 0.34499180554804987,
    "model_r2_fe": -0.5561426339156228,
    "model_r2_mass": -0.05978152032996831,
    "model_bias_fe": -0.06597588909231483,
    "model_bias_mass": -0.0074330821774807685,
    "model_mae_fe": 0.09334784580262218,
    "model_mae_mass": 0.17247019114792767,
    "model_mape_fe": 0.17065730505250537,
    "model_mape_mass": 0.29840132124852853,
    "ekf_rmse_fe": 0.17628369808835895,
    "ekf_rmse_mass": 0.34499180554804987,
    "ekf_normalized_rmse_fe": 0.3231485968371079,
    "ekf_normalized_rmse_mass": 0.5935968581787762,
    "ekf_rmse_total": 0.2739482506852445,
    "ekf_nees_mean": 0.9348075386892067,
    "ekf_nis_mean": 0.9348075386892067,
    "ekf_consistency": 0.46740376934460337,
    "trust_radius_mean": 1.2200802887778797,
    "trust_radius_std": 1.0221447910617574,
    "trust_radius_min": 0.5,
    "trust_radius_max": 5.0,
    "trust_adaptivity_coeff": 0.8058902275769746,
    "trust_stability_index": 0.5441381865486667,
    "initial_training_time": 19.27665138244629,
    "avg_retraining_time": 0.7238631645838419,
    "avg_prediction_time": 337.55646446809413,
    "total_retraining_count": 6.0,
    "tracking_error_fe": 1.0613494297555215,
    "tracking_error_mass": 1.1679823934934073,
    "control_smoothness": 0.5074450554246017,
    "setpoint_achievement_fe": 61.49732620320856,
    "setpoint_achievement_mass": 50.0,
    "ise_fe": 842.5940338076934,
    "ise_mass": 1020.4087878899202,
    "iae_fe": 786.8208968582825,
    "iae_mass": 839.8735362374905,
    "tracking_mae_fe": 1.0518995947303242,
    "tracking_mae_mass": 1.1228255832052012,
    "tracking_mape_fe": 1.9661674667856524,
    "tracking_mape_mass": 1.9698694442196512,
    "overall_score": 32.44836634913375,
    "process_stability": 0.9958390951173556,
    "control_aggressiveness": 0.17569369831996365,
    "control_variability": 0.9706567032429863,
    "control_energy": 703.8175338090657,
    "control_stability_index": 0.7657295850066934,
    "control_utilization": 16.88729255605805,
    "significant_changes_frequency": 0.04819277108433735,
    "significant_changes_count": 36.0,
    "max_control_change": 20.000000000019707,
    "directional_switches_per_step": 0.23427041499330656,
    "directional_switches_count": 175.0,
    "steps_at_max_delta_u": 14.0
  },
  "parameters": {
    "N_data": 5000,
    "control_pts": 1000,
    "time_step_s": 5,
    "dead_times_s": {
      "concentrate_fe_percent": 20.0,
      "tailings_fe_percent": 25.0,
      "concentrate_mass_flow": 20.0,
      "tailings_mass_flow": 25.0
    },
    "time_constants_s": {
      "concentrate_fe_percent": 8.0,
      "tailings_fe_percent": 10.0,
      "concentrate_mass_flow": 5.0,
      "tailings_mass_flow": 7.0
    },
    "lag": 2,
    "Np": 6,
    "Nc": 4,
    "n_neighbors": 5,
    "seed": 0,
    "noise_level": "none",
    "model_type": "krr",
    "kernel": "rbf",
    "find_optimal_params": true,
    "linear_type": "ols",
    "poly_degree": 1,
    "include_bias": true,
    "alpha": 1.0,
    "\u03bb_obj": 0.1,
    "K_I": 0.01,
    "w_fe": 7.0,
    "w_mass": 1.0,
    "ref_fe": 53.5,
    "ref_mass": 57.0,
    "train_size": 0.7,
    "val_size": 0.15,
    "test_size": 0.15,
    "u_min": 20.0,
    "u_max": 40.0,
    "delta_u_max": 1.0,
    "use_disturbance_estimator": true,
    "y_max_fe": 54.5,
    "y_max_mass": 58.0,
    "rho_trust": 0.1,
    "max_trust_radius": 5.0,
    "adaptive_trust_region": true,
    "initial_trust_radius": 1.0,
    "min_trust_radius": 0.5,
    "trust_decay_factor": 0.8,
    "linearization_check_enabled": true,
    "max_linearization_distance": 2.0,
    "retrain_linearization_threshold": 1.5,
    "use_soft_constraints": true,
    "plant_model_type": "rf",
    "enable_retraining": true,
    "retrain_period": 50,
    "retrain_window_size": 1000,
    "retrain_innov_threshold": 0.3,
    "enable_nonlinear": false,
    "run_analysis": true,
    "run_evaluation": true,
    "show_evaluation_plots": false,
    "tolerance_fe_percent": 2.0,
    "tolerance_mass_percent": 2.0,
    "P0": 0.01,
    "Q_phys": 1500,
    "Q_dist": 1,
    "R": 0.01,
    "q_adaptive_enabled": true,
    "q_alpha": 0.99,
    "q_nis_threshold": 1.5,
    "anomaly_params": {
      "window": 25,
      "spike_z": 4.0,
      "drop_rel": 0.3,
      "freeze_len": 5,
      "enabled": true
    },
    "nonlinear_config": {
      "concentrate_fe_percent": [
        "pow",
        2
      ],
      "concentrate_mass_flow": [
        "pow",
        1.5
      ]
    }
  },
  "recommendations": [
    "\u041f\u043e\u043a\u0440\u0430\u0449\u0438\u0442\u0438 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f \u0443\u0441\u0442\u0430\u0432\u043a\u0438 Fe (< 70% \u0432 \u0434\u043e\u043f\u0443\u0441\u043a\u0443)",
    "\u041f\u043e\u043a\u0440\u0430\u0449\u0438\u0442\u0438 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f \u0443\u0441\u0442\u0430\u0432\u043a\u0438 Mass (< 70% \u0432 \u0434\u043e\u043f\u0443\u0441\u043a\u0443)",
    "\u041f\u043e\u043a\u0440\u0430\u0449\u0438\u0442\u0438 \u044f\u043a\u0456\u0441\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u0456 \u0434\u043b\u044f Fe (R\u00b2 < 0.8)",
    "\u041f\u043e\u043a\u0440\u0430\u0449\u0438\u0442\u0438 \u044f\u043a\u0456\u0441\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u0456 \u0434\u043b\u044f Mass (R\u00b2 < 0.8)",
    "\u23f0 \u041f\u043e\u0432\u0456\u043b\u044c\u043d\u0435 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u0443\u0432\u0430\u043d\u043d\u044f (> 100 \u043c\u0441) - \u0434\u043b\u044f real-time \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u043d\u044c \u043a\u0440\u0438\u0442\u0438\u0447\u043d\u043e",
    "\ud83d\udd0d \u041d\u0438\u0437\u044c\u043a\u0430 \u043a\u043e\u043d\u0441\u0438\u0441\u0442\u0435\u043d\u0442\u043d\u0456\u0441\u0442\u044c EKF - \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u0442\u0438 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f Q \u0442\u0430 R \u043c\u0430\u0442\u0440\u0438\u0446\u044c",
    "\ud83d\udcca NEES \u0434\u0430\u043b\u0435\u043a\u043e \u0432\u0456\u0434 \u0456\u0434\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e (\u22482) - \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u043c\u0430\u0442\u0440\u0438\u0446\u044e \u043f\u0440\u043e\u0446\u0435\u0441\u043d\u043e\u0433\u043e \u0448\u0443\u043c\u0443 Q",
    "\ud83d\udcc8 NIS \u0434\u0430\u043b\u0435\u043a\u043e \u0432\u0456\u0434 \u0456\u0434\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e (\u22482) - \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438 \u043c\u0430\u0442\u0440\u0438\u0446\u044e \u0448\u0443\u043c\u0443 \u0432\u0438\u043c\u0456\u0440\u044e\u0432\u0430\u043d\u044c R",
    "\ud83c\udf9b\ufe0f \u0417\u0430\u043d\u0430\u0434\u0442\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u0430 \u0430\u0434\u0430\u043f\u0442\u0430\u0446\u0456\u044f Trust Region - \u0437\u0431\u0456\u043b\u044c\u0448\u0438\u0442\u0438 \u0441\u0442\u0430\u0431\u0456\u043b\u044c\u043d\u0456\u0441\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u0456",
    "\ud83d\udcca \u041d\u0435\u0441\u0442\u0430\u0431\u0456\u043b\u044c\u043d\u0438\u0439 Trust Region - \u0440\u043e\u0437\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u0437\u043c\u0435\u043d\u0448\u0435\u043d\u043d\u044f \u0432\u0430\u0440\u0456\u0430\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456 \u043c\u043e\u0434\u0435\u043b\u0456",
    "\u2705 \u0412\u0438\u0441\u043e\u043a\u0430 \u0441\u0442\u0430\u0431\u0456\u043b\u044c\u043d\u0456\u0441\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0443!"
  ],
  "performance_summary": "\u274c \u041d\u0435\u0437\u0430\u0434\u043e\u0432\u0456\u043b\u044c\u043d\u043e"
}